{% extends "core/base.html" %}
{% load static %}

{% block content %}
<div class="container">
    <h2>Dicion치rio de Dados</h2>
    <p class="subtitle page-description">Consulte aqui a descri칞칚o detalhada e as unidades de cada par칙metro dispon칤vel em nossa plataforma.</p>

    <div id="table-wrapper"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Pega os dados que o Django injetou no template
    const dictionaryData = {{ dictionary_data|safe }};

    // Prepara os dados para o Grid.js
    const columnsConfig = [
        { id: 'parametro', name: 'Par칙metro' },
        { id: 'codigo', name: 'C칩digo API' },
        { id: 'descricao', name: 'Descri칞칚o' },
        { id: 'unidade_diaria', name: 'Unidade (Di치ria)' },
        { id: 'unidade_horaria', name: 'Unidade (Hor치ria)' }
    ];

    new gridjs.Grid({
        columns: columnsConfig,
        data: dictionaryData,
        search: true,
        sort: true,
        pagination: {
            limit: 15
        },
        style: {
            td: {
              'white-space': 'normal' // Permite quebra de linha na descri칞칚o
            }
        },
        language: {
            'search': { 'placeholder': '游댌 Pesquisar...' },
            'pagination': { 'previous': 'Anterior', 'next': 'Pr칩xima', 'showing': 'Mostrando', 'results': () => 'Resultados', 'to': 'a', 'of': 'de' }
        }
    }).render(document.getElementById('table-wrapper'));
});
</script>
{% endblock %}